{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\src\\\\components\\\\Robot\\\\EventDataTable.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport $ from 'jquery';\nimport DataTable from 'datatables.net-dt';\nimport DownIcon from \"../../resources/Robot/icon-download.svg\";\nimport { ImgOnly } from \"../Public/Image\";\n$.DataTable = DataTable;\n\nfunction emi() {\n  return React.createElement(\"img\", {\n    src: DownIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  });\n}\n\nexport class EventDataTable extends React.Component {\n  constructor(props) {\n    super(props); // this.myRef = React.createRef();\n  }\n\n  componentDidMount(nextProps, nextState) {\n    Axios.get('http://localhost:4000/datatable/events/' + this.props.sn).then(res => {\n      console.log(res);\n      this.table = $(this.refs.main).DataTable({\n        data: res.data,\n        process: true,\n        searching: false,\n        paging: false,\n        lengthChange: false,\n        bInfo: false,\n        scrollXInner: '550px',\n        scrollX: '530px',\n        scrollY: false,\n        order: [[0, 'desc']],\n        columns: [{\n          \"data\": \"occurrence_time\"\n        }, {\n          \"data\": \"code\"\n        }, {\n          \"data\": \"down\"\n        }],\n        language: {\n          \"emptyTable\": \"저장된 이벤트 데이터가 없습니다.\"\n        }\n      });\n      this.table.rows().every(index => {\n        //this.table.cell(row,tableLoop,rowLoop).data(\"dsadad\").draw();\n        console.log(this.table.cell(index, 2).data(\"<img src={ + DownIcon + }/>\").draw());\n      });\n    }).catch(e => {\n      alert(e);\n    }).finally(() => {});\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.table.clear();\n    this.table.rows.add(this.transform(this.props.data));\n    this.table.draw();\n  }\n\n  componentWillUnmount() {\n    $('.event_history').find('dataTable').DataTable().destroy(true);\n  }\n\n  render() {\n    return (// <dev ref={this.myRef}/>\n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        id: \"dataTable\",\n        className: \"\",\n        ref: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"DATE\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"EVENT\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"LOG\")))))\n    );\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Administrator/Documents/React/indycare/src/components/Robot/EventDataTable.js"],"names":["React","Axios","$","DataTable","ImgOnly","emi","DownIcon","EventDataTable","Component","constructor","props","componentDidMount","nextProps","nextState","get","sn","then","res","console","log","table","refs","main","data","process","searching","paging","lengthChange","bInfo","scrollXInner","scrollX","scrollY","order","columns","language","rows","every","index","cell","draw","catch","e","alert","finally","componentDidUpdate","prevProps","prevState","snapshot","clear","add","transform","componentWillUnmount","find","destroy","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Axios from 'axios';\r\nimport $ from 'jquery';\r\nimport DataTable from 'datatables.net-dt';\r\nimport DownIcon from '../../resources/Robot/icon-download.svg';\r\nimport {ImgOnly} from \"../Public/Image\";\r\n\r\n$.DataTable = DataTable;\r\n\r\nfunction emi() {\r\n    return (<img src={DownIcon}/>)\r\n}\r\n\r\nexport class EventDataTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.myRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(nextProps, nextState) {\r\n        Axios.get('http://localhost:4000/datatable/events/' + this.props.sn)\r\n            .then(res => {\r\n                console.log(res);\r\n                this.table = $(this.refs.main).DataTable({\r\n                    data: res.data,\r\n                    process: true,\r\n                    searching: false,\r\n                    paging: false,\r\n                    lengthChange: false,\r\n                    bInfo: false,\r\n                    scrollXInner: '550px',\r\n                    scrollX: '530px',\r\n                    scrollY: false,\r\n                    order: [[0, 'desc']],\r\n                    columns: [\r\n                        {\"data\": \"occurrence_time\"},\r\n                        {\"data\": \"code\"},\r\n                        {\"data\": \"down\"}\r\n                    ],\r\n                    language: {\r\n                        \"emptyTable\": \"저장된 이벤트 데이터가 없습니다.\"\r\n                    }\r\n                });\r\n                this.table.rows().every((index) => {\r\n                    //this.table.cell(row,tableLoop,rowLoop).data(\"dsadad\").draw();\r\n                    console.log(this.table.cell(index,2).data(\"<img src={ + DownIcon + }/>\").draw());\r\n                });\r\n            }).catch(e => {\r\n            alert(e);\r\n        }).finally(() => {\r\n\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.table.clear();\r\n        this.table.rows.add(this.transform(this.props.data));\r\n        this.table.draw();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        $('.event_history')\r\n            .find('dataTable')\r\n            .DataTable()\r\n            .destroy(true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            // <dev ref={this.myRef}/>\r\n            <div>\r\n                <table id=\"dataTable\" className=\"\" ref='main'>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>DATE</th>\r\n                        <th>EVENT</th>\r\n                        <th>LOG</th>\r\n                    </tr>\r\n                    </thead>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}
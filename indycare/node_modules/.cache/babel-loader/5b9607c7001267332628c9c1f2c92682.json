{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Administrator\\\\Documents\\\\React\\\\indycare\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import $ from'jquery';import DataTable from'datatables.net-dt';import DownIcon from\"../../resources/Robot/icon-download.svg\";$.DataTable=DataTable;export var Modal=/*#__PURE__*/function(_React$Component){_inherits(Modal,_React$Component);function Modal(){_classCallCheck(this,Modal);return _possibleConstructorReturn(this,_getPrototypeOf(Modal).apply(this,arguments));}_createClass(Modal,[{key:\"componentDidMount\",// constructor(props) {\n//     super(props);\n//     // this.myRef = React.createRef();\n// }\nvalue:function componentDidMount(nextProps,nextState){this.table=$(this.refs.main).DataTable({data:this.props.data,process:true,searching:false,paging:false,bInfo:false,order:[[0,'asc']],columns:[{\"data\":\"occurrence_time\"},{\"data\":\"code\"},{\"data\":\"down\"}],language:{\"emptyTable\":\"저장된 이벤트 데이터가 없습니다.\"}});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.props.data.length>0&&prevProps.data!==this.props.data){var table=$(this.refs.main).DataTable();table.clear();table.rows.add(this.props.data);table.rows().every(function(index){var str=table.cell(index,2).data();table.cell(index,2).data(str+'<img alt=\"\" src='+DownIcon+'></a>');});table.draw();}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){$('.event_history').find('dataTable_history').DataTable().destroy(true);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"history_table\"},React.createElement(\"h2\",null,\"All Event History\"),React.createElement(\"table\",{id:\"dataTable_history\",className:\"\",ref:\"main\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"DATE\"),React.createElement(\"th\",null,\"EVENT\"),React.createElement(\"th\",null,\"LOG\")))));}}]);return Modal;}(React.Component);/*\r\n<React.Fragment>\r\n    {\r\n        isOpen ?\r\n            <React.Fragment>\r\n                <div className=\"history_table\">\r\n                    <h2>All Event History</h2>\r\n                    <table id=\"dataTable_history\" className=\"\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>DATE</th>\r\n                            <th>EVENT</th>\r\n                            <th>LOG</th>\r\n                        </tr>\r\n                        </thead>\r\n                    </table>\r\n                </div>\r\n            </React.Fragment>\r\n            :\r\n            null\r\n    }\r\n</React.Fragment>\r\n*/","map":{"version":3,"sources":["C:/Users/Administrator/Documents/React/indycare/src/components/Robot/Modal.js"],"names":["React","$","DataTable","Modal","nextProps","nextState","table","refs","main","data","props","process","searching","paging","bInfo","order","columns","language","prevProps","prevState","snapshot","length","clear","rows","add","every","index","str","cell","DownIcon","draw","find","destroy","Component"],"mappings":"gsBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,C,8DAGAD,CAAC,CAACC,SAAF,CAAcA,SAAd,CAEA,UAAaC,CAAAA,KAAb,2PACI;AACA;AACA;AACA;AAJJ,iCAMsBC,SANtB,CAMiCC,SANjC,CAM4C,CACpC,KAAKC,KAAL,CAAaL,CAAC,CAAC,KAAKM,IAAL,CAAUC,IAAX,CAAD,CAAkBN,SAAlB,CAA4B,CACrCO,IAAI,CAAE,KAAKC,KAAL,CAAWD,IADoB,CAErCE,OAAO,CAAE,IAF4B,CAGrCC,SAAS,CAAE,KAH0B,CAIrCC,MAAM,CAAE,KAJ6B,CAKrCC,KAAK,CAAE,KAL8B,CAMrCC,KAAK,CAAE,CAAC,CAAC,CAAD,CAAI,KAAJ,CAAD,CAN8B,CAOrCC,OAAO,CAAE,CACL,CAAC,OAAQ,iBAAT,CADK,CAEL,CAAC,OAAQ,MAAT,CAFK,CAGL,CAAC,OAAQ,MAAT,CAHK,CAP4B,CAYrCC,QAAQ,CAAE,CACN,aAAc,oBADR,CAZ2B,CAA5B,CAAb,CAgBH,CAvBL,8DAyBuBC,SAzBvB,CAyBkCC,SAzBlC,CAyB6CC,QAzB7C,CAyBuD,CAC/C,GAAI,KAAKV,KAAL,CAAWD,IAAX,CAAgBY,MAAhB,CAAyB,CAAzB,EAA8BH,SAAS,CAACT,IAAV,GAAmB,KAAKC,KAAL,CAAWD,IAAhE,CAAsE,CAClE,GAAIH,CAAAA,KAAK,CAAGL,CAAC,CAAC,KAAKM,IAAL,CAAUC,IAAX,CAAD,CAAkBN,SAAlB,EAAZ,CACAI,KAAK,CAACgB,KAAN,GACAhB,KAAK,CAACiB,IAAN,CAAWC,GAAX,CAAe,KAAKd,KAAL,CAAWD,IAA1B,EACAH,KAAK,CAACiB,IAAN,GAAaE,KAAb,CAAmB,SAACC,KAAD,CAAW,CAC1B,GAAIC,CAAAA,GAAG,CAAGrB,KAAK,CAACsB,IAAN,CAAWF,KAAX,CAAkB,CAAlB,EAAqBjB,IAArB,EAAV,CACAH,KAAK,CAACsB,IAAN,CAAWF,KAAX,CAAkB,CAAlB,EAAqBjB,IAArB,CAA0BkB,GAAG,CAAG,kBAAN,CAA2BE,QAA3B,CAAsC,OAAhE,EACH,CAHD,EAIAvB,KAAK,CAACwB,IAAN,GACH,CACJ,CApCL,mEAsC2B,CACnB7B,CAAC,CAAC,gBAAD,CAAD,CACK8B,IADL,CACU,mBADV,EAEK7B,SAFL,GAGK8B,OAHL,CAGa,IAHb,EAIH,CA3CL,uCA6Ca,CACL,MACI,4BAAK,SAAS,CAAC,eAAf,EACI,kDADJ,CAEI,6BAAO,EAAE,CAAC,mBAAV,CAA8B,SAAS,CAAC,EAAxC,CAA2C,GAAG,CAAC,MAA/C,EACI,iCACA,8BACI,qCADJ,CAEI,sCAFJ,CAGI,oCAHJ,CADA,CADJ,CAFJ,CADJ,CAcH,CA5DL,mBAA2BhC,KAAK,CAACiC,SAAjC,EA+DA","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\nimport DataTable from 'datatables.net-dt';\r\nimport DownIcon from '../../resources/Robot/icon-download.svg';\r\n\r\n$.DataTable = DataTable;\r\n\r\nexport class Modal extends React.Component {\r\n    // constructor(props) {\r\n    //     super(props);\r\n    //     // this.myRef = React.createRef();\r\n    // }\r\n\r\n    componentDidMount(nextProps, nextState) {\r\n        this.table = $(this.refs.main).DataTable({\r\n            data: this.props.data,\r\n            process: true,\r\n            searching: false,\r\n            paging: false,\r\n            bInfo: false,\r\n            order: [[0, 'asc']],\r\n            columns: [\r\n                {\"data\": \"occurrence_time\"},\r\n                {\"data\": \"code\"},\r\n                {\"data\": \"down\"}\r\n            ],\r\n            language: {\r\n                \"emptyTable\": \"저장된 이벤트 데이터가 없습니다.\"\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.data.length > 0 && prevProps.data !== this.props.data) {\r\n            let table = $(this.refs.main).DataTable();\r\n            table.clear();\r\n            table.rows.add(this.props.data);\r\n            table.rows().every((index) => {\r\n                let str = table.cell(index, 2).data();\r\n                table.cell(index, 2).data(str + '<img alt=\"\" src=' + DownIcon + '></a>');\r\n            });\r\n            table.draw();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        $('.event_history')\r\n            .find('dataTable_history')\r\n            .DataTable()\r\n            .destroy(true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"history_table\">\r\n                <h2>All Event History</h2>\r\n                <table id=\"dataTable_history\" className=\"\" ref=\"main\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>DATE</th>\r\n                        <th>EVENT</th>\r\n                        <th>LOG</th>\r\n                    </tr>\r\n                    </thead>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n/*\r\n<React.Fragment>\r\n    {\r\n        isOpen ?\r\n            <React.Fragment>\r\n                <div className=\"history_table\">\r\n                    <h2>All Event History</h2>\r\n                    <table id=\"dataTable_history\" className=\"\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>DATE</th>\r\n                            <th>EVENT</th>\r\n                            <th>LOG</th>\r\n                        </tr>\r\n                        </thead>\r\n                    </table>\r\n                </div>\r\n            </React.Fragment>\r\n            :\r\n            null\r\n    }\r\n</React.Fragment>\r\n*/"]},"metadata":{},"sourceType":"module"}